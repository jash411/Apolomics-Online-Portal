{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yosep\\\\Desktop\\\\Apolomics apologetical school online portal\\\\frontend\\\\src\\\\pages\\\\courses.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useAuth } from '../contexts/AuthContext';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Courses = () => {\n  _s();\n  const [courses, setCourses] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const {\n    user\n  } = useAuth();\n  useEffect(() => {\n    const fetchCourses = async () => {\n      try {\n        const response = await axios.get('http://localhost:8000/api/courses/');\n        setCourses(response.data.results || response.data);\n      } catch (error) {\n        console.error('Error fetching courses:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchCourses();\n  }, []);\n  const handleEnroll = async courseId => {\n    if (!user) {\n      alert('Please log in to enroll in courses');\n      return;\n    }\n    try {\n      // This will be implemented when we create the enrollment API\n      alert(`Enrolling in course ${courseId}. Enrollment functionality coming soon!`);\n    } catch (error) {\n      console.error('Enrollment error:', error);\n      alert('Enrollment failed');\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Courses\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading courses...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Available Courses\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), (user === null || user === void 0 ? void 0 : user.user_type) === 'instructor' && /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/courses/create\",\n        className: \"btn btn-primary\",\n        children: \"Create New Course\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"courses-grid\",\n      children: courses.length > 0 ? courses.map(course => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"course-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: course.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: course.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Instructor:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 18\n          }, this), \" \", course.instructor_name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Level:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 18\n          }, this), \" \", course.level]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Duration:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 18\n          }, this), \" \", course.duration_hours, \" hours\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }, this), (user === null || user === void 0 ? void 0 : user.user_type) === 'student' ? /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleEnroll(course.id),\n          className: \"btn btn-primary\",\n          style: {\n            marginTop: '10px'\n          },\n          children: \"Enroll Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this) : (user === null || user === void 0 ? void 0 : user.user_type) === 'instructor' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary\",\n            style: {\n              marginRight: '10px'\n            },\n            children: \"Edit Course\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            children: \"View Analytics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          className: \"btn btn-primary\",\n          style: {\n            marginTop: '10px',\n            display: 'block'\n          },\n          children: \"Login to Enroll\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }, this)]\n      }, course.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No courses available yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this), (user === null || user === void 0 ? void 0 : user.user_type) === 'instructor' && /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/courses/create\",\n          className: \"btn btn-primary\",\n          children: \"Create the First Course\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(Courses, \"ebd03n7reerY1Vu0O9TJUGI0BrI=\", false, function () {\n  return [useAuth];\n});\n_c = Courses;\nexport default Courses;\nvar _c;\n$RefreshReg$(_c, \"Courses\");","map":{"version":3,"names":["React","useState","useEffect","axios","useAuth","Link","jsxDEV","_jsxDEV","Courses","_s","courses","setCourses","loading","setLoading","user","fetchCourses","response","get","data","results","error","console","handleEnroll","courseId","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","display","justifyContent","alignItems","marginBottom","user_type","to","length","map","course","title","description","instructor_name","level","duration_hours","onClick","id","marginTop","marginRight","_c","$RefreshReg$"],"sources":["C:/Users/yosep/Desktop/Apolomics apologetical school online portal/frontend/src/pages/courses.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Courses = () => {\r\n  const [courses, setCourses] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const { user } = useAuth();\r\n\r\n  useEffect(() => {\r\n    const fetchCourses = async () => {\r\n      try {\r\n        const response = await axios.get('http://localhost:8000/api/courses/');\r\n        setCourses(response.data.results || response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching courses:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchCourses();\r\n  }, []);\r\n\r\n  const handleEnroll = async (courseId) => {\r\n    if (!user) {\r\n      alert('Please log in to enroll in courses');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // This will be implemented when we create the enrollment API\r\n      alert(`Enrolling in course ${courseId}. Enrollment functionality coming soon!`);\r\n    } catch (error) {\r\n      console.error('Enrollment error:', error);\r\n      alert('Enrollment failed');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"container\">\r\n        <h1>Courses</h1>\r\n        <p>Loading courses...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\r\n        <h1>Available Courses</h1>\r\n        {user?.user_type === 'instructor' && (\r\n          <Link to=\"/courses/create\" className=\"btn btn-primary\">\r\n            Create New Course\r\n          </Link>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"courses-grid\">\r\n        {courses.length > 0 ? (\r\n          courses.map(course => (\r\n            <div key={course.id} className=\"course-card\">\r\n              <h3>{course.title}</h3>\r\n              <p>{course.description}</p>\r\n              <p><strong>Instructor:</strong> {course.instructor_name}</p>\r\n              <p><strong>Level:</strong> {course.level}</p>\r\n              <p><strong>Duration:</strong> {course.duration_hours} hours</p>\r\n              \r\n              {user?.user_type === 'student' ? (\r\n                <button \r\n                  onClick={() => handleEnroll(course.id)} \r\n                  className=\"btn btn-primary\" \r\n                  style={{ marginTop: '10px' }}\r\n                >\r\n                  Enroll Now\r\n                </button>\r\n              ) : user?.user_type === 'instructor' ? (\r\n                <div style={{ marginTop: '10px' }}>\r\n                  <button className=\"btn btn-secondary\" style={{ marginRight: '10px' }}>\r\n                    Edit Course\r\n                  </button>\r\n                  <button className=\"btn btn-primary\">\r\n                    View Analytics\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                <Link to=\"/login\" className=\"btn btn-primary\" style={{ marginTop: '10px', display: 'block' }}>\r\n                  Login to Enroll\r\n                </Link>\r\n              )}\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <div className=\"card\">\r\n            <p>No courses available yet.</p>\r\n            {user?.user_type === 'instructor' && (\r\n              <Link to=\"/courses/create\" className=\"btn btn-primary\">\r\n                Create the First Course\r\n              </Link>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Courses;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}