{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yosep\\\\Desktop\\\\Apolomics apologetical school online portal\\\\frontend\\\\src\\\\pages\\\\MyCourses.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useAuth } from '../contexts/AuthContext';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MyCourses = () => {\n  _s();\n  const [courses, setCourses] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const {\n    user\n  } = useAuth();\n  useEffect(() => {\n    const fetchEnrolledCourses = async () => {\n      try {\n        const token = localStorage.getItem('token');\n\n        // Get ALL courses first\n        const allCoursesResponse = await axios.get('http://localhost:8000/api/courses/', {\n          headers: {\n            'Authorization': `Token ${token}`\n          }\n        });\n\n        // Check enrollment for each course\n        const enrolledCourses = [];\n        for (const course of allCoursesResponse.data) {\n          try {\n            const enrollmentResponse = await axios.get(`http://localhost:8000/api/courses/${course.id}/enrollment_status/`, {\n              headers: {\n                'Authorization': `Token ${token}`\n              }\n            });\n            if (enrollmentResponse.data.is_enrolled) {\n              enrolledCourses.push(course);\n            }\n          } catch (error) {\n            console.log(`Could not check enrollment for course ${course.id}`);\n          }\n        }\n        setCourses(enrolledCourses);\n      } catch (error) {\n        console.error('Error:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (user) {\n      fetchEnrolledCourses();\n    }\n  }, [user]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"My Learning\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading your courses...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"My Learning\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), courses.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"No courses enrolled yet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"You haven't enrolled in any courses yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/courses\",\n        className: \"btn btn-primary\",\n        children: \"Browse Courses\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"You are enrolled in \", courses.length, \" course\", courses.length !== 1 ? 's' : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"courses-grid\",\n        children: courses.map(course => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"course-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: course.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: course.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Instructor:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 20\n            }, this), \" \", course.instructor_name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `/learn/${course.id}`,\n            className: \"btn btn-primary\",\n            children: \"Continue Learning\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this)]\n        }, course.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s(MyCourses, \"ebd03n7reerY1Vu0O9TJUGI0BrI=\", false, function () {\n  return [useAuth];\n});\n_c = MyCourses;\nexport default MyCourses;\nvar _c;\n$RefreshReg$(_c, \"MyCourses\");","map":{"version":3,"names":["React","useState","useEffect","axios","useAuth","Link","jsxDEV","_jsxDEV","MyCourses","_s","courses","setCourses","loading","setLoading","user","fetchEnrolledCourses","token","localStorage","getItem","allCoursesResponse","get","headers","enrolledCourses","course","data","enrollmentResponse","id","is_enrolled","push","error","console","log","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","to","map","title","description","instructor_name","_c","$RefreshReg$"],"sources":["C:/Users/yosep/Desktop/Apolomics apologetical school online portal/frontend/src/pages/MyCourses.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst MyCourses = () => {\r\n  const [courses, setCourses] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const { user } = useAuth();\r\n\r\n  useEffect(() => {\r\n    const fetchEnrolledCourses = async () => {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        \r\n        // Get ALL courses first\r\n        const allCoursesResponse = await axios.get('http://localhost:8000/api/courses/', {\r\n          headers: {\r\n            'Authorization': `Token ${token}`\r\n          }\r\n        });\r\n        \r\n        // Check enrollment for each course\r\n        const enrolledCourses = [];\r\n        for (const course of allCoursesResponse.data) {\r\n          try {\r\n            const enrollmentResponse = await axios.get(\r\n              `http://localhost:8000/api/courses/${course.id}/enrollment_status/`,\r\n              {\r\n                headers: {\r\n                  'Authorization': `Token ${token}`\r\n                }\r\n              }\r\n            );\r\n            \r\n            if (enrollmentResponse.data.is_enrolled) {\r\n              enrolledCourses.push(course);\r\n            }\r\n          } catch (error) {\r\n            console.log(`Could not check enrollment for course ${course.id}`);\r\n          }\r\n        }\r\n        \r\n        setCourses(enrolledCourses);\r\n      } catch (error) {\r\n        console.error('Error:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (user) {\r\n      fetchEnrolledCourses();\r\n    }\r\n  }, [user]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"container\">\r\n        <h1>My Learning</h1>\r\n        <p>Loading your courses...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1>My Learning</h1>\r\n      \r\n      {courses.length === 0 ? (\r\n        <div className=\"card\">\r\n          <h3>No courses enrolled yet</h3>\r\n          <p>You haven't enrolled in any courses yet.</p>\r\n          <Link to=\"/courses\" className=\"btn btn-primary\">\r\n            Browse Courses\r\n          </Link>\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <p>You are enrolled in {courses.length} course{courses.length !== 1 ? 's' : ''}</p>\r\n          <div className=\"courses-grid\">\r\n            {courses.map(course => (\r\n              <div key={course.id} className=\"course-card\">\r\n                <h3>{course.title}</h3>\r\n                <p>{course.description}</p>\r\n                <p><strong>Instructor:</strong> {course.instructor_name}</p>\r\n                <Link to={`/learn/${course.id}`} className=\"btn btn-primary\">\r\n                  Continue Learning\r\n                </Link>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyCourses;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}